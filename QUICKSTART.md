# –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
cd OpenConnectVPNmanager
bundle install
```

## –ü–µ—Ä–≤–æ–Ω–∞—á–∞–ª—å–Ω–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞

```bash
./bin/vpnctl setup
```

–í–≤–µ–¥–∏—Ç–µ:
- –ê–¥—Ä–µ—Å —Å–µ—Ä–≤–µ—Ä–∞ (–Ω–∞–ø—Ä–∏–º–µ—Ä: vpn.company.com)
- –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- –ü–∞—Ä–æ–ª—å VPN
- –ú–∞—Å—Ç–µ—Ä-–ø–∞—Ä–æ–ª—å (–º–∏–Ω–∏–º—É–º 8 —Å–∏–º–≤–æ–ª–æ–≤) - –±—É–¥–µ—Ç –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å—Å—è –¥–ª—è —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

## –û—Å–Ω–æ–≤–Ω—ã–µ –∫–æ–º–∞–Ω–¥—ã

### –ó–∞–ø—É—Å–∫ VPN
```bash
./bin/vpnctl start
```

–° –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–º –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º:
```bash
./bin/vpnctl start -r
```

### –ü—Ä–æ–≤–µ—Ä–∫–∞ —Å—Ç–∞—Ç—É—Å–∞
```bash
./bin/vpnctl status
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏
```bash
./bin/vpnctl stats
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ VPN
```bash
./bin/vpnctl stop
```

### –ü—Ä–æ—Å–º–æ—Ç—Ä –ª–æ–≥–æ–≤
```bash
./bin/vpnctl logs -n 50
```

## –ó–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–æ–≤

```bash
bundle exec rspec
```

## –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
OpenConnectVPNmanager/
‚îú‚îÄ‚îÄ bin/
‚îÇ   ‚îî‚îÄ‚îÄ vpnctl              # –ò—Å–ø–æ–ª–Ω—è–µ–º—ã–π CLI
‚îú‚îÄ‚îÄ lib/
‚îÇ   ‚îî‚îÄ‚îÄ vpn_manager/
‚îÇ       ‚îú‚îÄ‚îÄ crypto.rb       # AES-256-GCM —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ connection.rb   # –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ VPN
‚îÇ       ‚îú‚îÄ‚îÄ logger.rb       # –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ       ‚îú‚îÄ‚îÄ statistics.rb   # –ú–µ—Ç—Ä–∏–∫–∏ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞
‚îÇ       ‚îî‚îÄ‚îÄ cli.rb          # CLI –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
‚îú‚îÄ‚îÄ spec/                   # –¢–µ—Å—Ç—ã (44 –ø—Ä–∏–º–µ—Ä–∞)
‚îî‚îÄ‚îÄ README.md               # –ü–æ–ª–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## –§–∞–π–ª—ã –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏

–í—Å–µ –¥–∞–Ω–Ω—ã–µ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ `~/.vpn_manager/`:
- `credentials.enc` - –∑–∞—à–∏—Ñ—Ä–æ–≤–∞–Ω–Ω—ã–µ —É—á–µ—Ç–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ (AES-256-GCM)
- `stats.json` - —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è
- `vpn.log` - –ª–æ–≥ —Ñ–∞–π–ª
- `vpn.pid` - PID –∞–∫—Ç–∏–≤–Ω–æ–≥–æ —Å–æ–µ–¥–∏–Ω–µ–Ω–∏—è

## –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Ruby 2.7+
- OpenConnect VPN –∫–ª–∏–µ–Ω—Ç
- –ü—Ä–∞–≤–∞ sudo (–¥–ª—è –∑–∞–ø—É—Å–∫–∞ OpenConnect)

## –ù–∞—Å—Ç—Ä–æ–π–∫–∞ sudo –±–µ–∑ –ø–∞—Ä–æ–ª—è

–î–ª—è —Ä–∞–±–æ—Ç—ã VPN –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ sudo:

```bash
echo "$USER ALL=(ALL) NOPASSWD: /usr/bin/openconnect" | sudo tee /etc/sudoers.d/openconnect
sudo chmod 0440 /etc/sudoers.d/openconnect
```

## –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- üîí –ë–µ–∑–æ–ø–∞—Å–Ω–æ–µ —Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø–∞—Ä–æ–ª–µ–π (AES-256-GCM)
- üöÄ –§–æ–Ω–æ–≤—ã–π —Ä–µ–∂–∏–º –±–µ–∑ –±–ª–æ–∫–∏—Ä–æ–≤–∫–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞
- üìä –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ —Ç—Ä–∞—Ñ–∏–∫–∞ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
- üîÑ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –ø–µ—Ä–µ–ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ
- üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∏—Ä–æ–≤–∞–Ω–Ω—ã–µ –ª–æ–≥–∏ —Å —Ä–æ—Ç–∞—Ü–∏–µ–π
- ‚úÖ –ü–æ–ª–Ω–æ–µ –ø–æ–∫—Ä—ã—Ç–∏–µ —Ç–µ—Å—Ç–∞–º–∏ (44 –ø—Ä–∏–º–µ—Ä–∞)
