# Changelog

Все значимые изменения в проекте будут документированы в этом файле.

Формат основан на [Keep a Changelog](https://keepachangelog.com/ru/1.0.0/),
и этот проект следует [Semantic Versioning](https://semver.org/lang/ru/).

## [1.0.1] - 2025-10-03

### Исправлено
- Исправлена проблема с отслеживанием PID процесса OpenConnect
  - Убран флаг `--background` из параметров OpenConnect
  - Теперь процесс корректно запускается в фоновом режиме через `Process.spawn`
- Реализован мониторинг трафика в реальном времени
  - Добавлено чтение статистики из `/sys/class/net/tun*/statistics/`
  - Счетчики обновляются при каждом вызове `status` или `stats`
  - Данные отправленные/полученные корректно отображаются
- Исправлена проблема с отслеживанием времени работы VPN
  - Добавлено сохранение `session_start` в файл статистики
  - Восстановление времени сессии при перезапуске приложения
  - Корректный подсчет текущей сессии и общего времени работы

### Добавлено
- Публичный метод `update_traffic_stats` в класс `Connection`
- Автоматическое определение VPN интерфейса через `find_vpn_interface`
- Сохранение времени начала сессии между перезапусками

### Изменено
- Обновлена документация (README.md, QUICKSTART.md)
- Добавлен раздел о настройке sudo без пароля
- Добавлен раздел о мониторинге трафика

## [1.0.0] - 2025-10-03

### Добавлено
- Первый стабильный релиз OpenConnect VPN Manager
- Безопасное хранение учетных данных с AES-256-GCM шифрованием
- Фоновый режим работы VPN без блокировки терминала
- Автоматическое переподключение при потере связи (до 5 попыток)
- Детальная статистика использования и метрики производительности
- Структурированное логирование с автоматической ротацией
- CLI интерфейс на базе Thor
- Полное покрытие тестами (44 RSpec теста)

### Компоненты
- `VPNManager::Crypto` - шифрование паролей (AES-256-GCM, PBKDF2)
- `VPNManager::Connection` - управление VPN соединениями
- `VPNManager::Logger` - структурированное логирование
- `VPNManager::Statistics` - сбор и анализ метрик
- `VPNManager::CLI` - командный интерфейс

### Документация
- README.md с подробным описанием и примерами
- QUICKSTART.md для быстрого старта
- Комментарии в коде
